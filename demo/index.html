<!DOCTYPE html>
<html>

<head>
    <title>Demo</title>
    <meta charset="utf-8">
    <script src="js/bosonic-polyfills.js"></script>
    <script src="js/b-chart-components.js"></script>
    <link href="css/b-chart-components.css" rel="stylesheet">
</head>

<body>
    <h3>Pie chart: dynamic, resizable, doughnutable, colorizable</h3>
    <b-pie-chart></b-pie-chart>
    <b-pie-chart dynamic></b-pie-chart>
    <b-pie-chart radius="20"></b-pie-chart>
    <b-pie-chart doughnut></b-pie-chart>

    <b-pie-chart colors="#ff0 #0f0 #f00"></b-pie-chart>
    <b-pie-chart colors="#eee #ccc #aaa #888 #666 #444 #222 #000"></b-pie-chart>


    <br>
    <a href="#" id="data">load new data</a>
    <a href="#" id="color">change colors</a>

    <script type="text/javascript">
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function randomData() {
        var nb = getRandomInt(5,10);
        var data = [];
        for(var i = 0 ; i < nb ; i++) {
            data.push(getRandomInt(1,300));
        }
        return data;
    }

    function data() {
        var charts = document.querySelectorAll('b-pie-chart');
        [].forEach.call(charts, function(chart) {
            chart.data = randomData();
        });
    }

    window.addEventListener('WebComponentsReady', data);

    document.querySelector('#data').addEventListener('click', function(e) {
        e.preventDefault();
        data();
    });
    document.querySelector('#color').addEventListener('click', function(e) {
        e.preventDefault();
        var charts = document.querySelectorAll('b-pie-chart');
        [].forEach.call(charts, function(chart) {
            chart.colorization(['#ff0','#0f0','#f00']);
        });
    });
    </script>
</body>
